# 由来
在传统多页面中，各个页面之前的交互几乎很少，都通过 `url 传参`或者`本地存储`等简单的方式来进行交流，而像 weex 这样把整个 app 都当做一个多页面来处理显然是不太合理的。

我们需要一个全局的地方，常驻内存，不被销毁
举个例子，app 个推推送过来，你要在无论当前在哪个页面都想弹出一个 toast，weex 中你需要在每个页面都写这个公共逻辑。

> 这样当你有 100 个页面，你就注册了 100 个监听个推回调的事件。

而我们期望只监听一次这个事件，然后执行即可，所以 mediator 就出现了：

> mediator 中介者，本质是个 JS bundle，在程序最开始实例化常驻在内存中，不被销毁。

## 使用
> 我们在开发模板中默认帮你配置了 `公共 js bundle` 为 `src/js/mediator/index.js`，**一般来说你无需进行以下手动配置，直接使用即可**。

1.在 `eros.dev.js` 中配置出你想要成为公共 js bundle 的路径：

```js
'exports': [
		// mediator
        'js/mediator/index.js',
        ...
]
```

2.在 `eros.native.js` 注册，写入 src/js/ 的相对路径。

```js
{
	...
	'mediator': '/mediator/index.js',
	...
}
```

3.用上面的例子来说，我们把监听个推的事件代码放入 `src/js/mediator/index.js` 中即可。

注意：
- 每次修改之后需要重启 app 才可以看到变动。
- 中介者中试用 weex dom 无效，因为没有页面。
- 中介者与其他页面交互需要通过`发布订阅`。